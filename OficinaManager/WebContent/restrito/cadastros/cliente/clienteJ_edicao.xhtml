<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>
	<p:dialog  header="Cadastro de cliente jurídico" onShow="tb2.select(0);" widgetVar="dlg3" modal="true" position="top" width="820" closable="false">
	
	
		<div class="center_content">

			<h:form id="cadastroJ">
				<p:growl id="msgJ" showDetail="true" />
				<h:inputHidden value="#{clienteBean.cli.id}" />
				
				
				<p:tabView orientation="top" widgetVar="tb2" activeIndex="" cache="false"  id="tab2" dynamic="false" style="width:100%;border-width:0;padding:0;" >
				<p:ajax event="tabChange"  listener="#{clienteBean.onTabChange}" update="@form" />
				 
				
					
				
			<!-- inicio da aba de cadastro -->
					<p:tab title="Dados pessoais"  id="tab3">
						<p:messages id="msg_cnpj" showDetail="false" closable="true" autoUpdate="false"/>        					    				
    					<p:separator />	
    				<h:panelGrid id="grid_mainJ" columns="2">    					
						<h:panelGrid id="gridJ" columns="3" cellpadding="3" >
        					<p:outputLabel for="razao" value="Razão social:" />
        					<p:inputText id="razao" value="#{clienteBean.cli.pj.rs}" required="true" requiredMessage="Obrigatório razão social" />
        					<p:message for="razao" />
 
        					<p:outputLabel for="nfantasia" value="Nome fantasia:" />
        					<p:inputText id="nfantasia" value="#{clienteBean.cli.pj.nomeFantasia}" required="false"/>									        				
 							<p:message for="nfantasia" />
 						
        					<p:outputLabel for="cnpj" value="CNPJ:" />
        					<p:inputMask id="cnpj" mask="99.999.999/9999-99" required="true" value="#{clienteBean.cli.pj.cnpj}" 
        						requiredMessage="Esse CNPJ já está cadastrado no sistema!" maxlength="17" 
        						converter="cpfConverter" validator="cnpjValidador" > <!-- converter="cpfConverter" validator="cpfValidador" -->
        						
        					</p:inputMask>
        					<p:commandLink update="msg_cnpj" action="#{clienteBean.validaCnpj}" title="Verificar CNPJ cadastrado!">
        						<p:graphicImage library="imagens" name="administrativo16.png" />        					
        					</p:commandLink>
    					</h:panelGrid>
    					<h:panelGrid id="grid3" columns="2" cellpadding="5">
    						<p:outputLabel for="abertura" value="Data de abertura:" />        					
        					<p:calendar id="abertura" value="#{clienteBean.cli.pj.abertura}" pattern="dd/MM/yyyy"  
        					locale="pt" title="Digite a data neste formato 99/99/9999"
        					mask="99/99/9999" navigator="true" readonlyInput="true" yearRange="c-60:c+20">
        					
        					</p:calendar>       					            				     				
        				
        					<p:outputLabel for="ie" value="Inscrição estadual:" />
        					<p:inputText id="ie" value="#{clienteBean.cli.pj.ie}" required="false"/>									        				
 							
 							
 							<p:outputLabel for="im" value="Inscrição municipal:" />
        					<p:inputText id="im" value="#{clienteBean.cli.pj.im}" required="false"/>									        				
 							
        													        				
    					</h:panelGrid>
 					</h:panelGrid>	
 					<p:separator/>    									
					</p:tab>
					<!-- fim da aba de cadastro -->
					
					<!-- inicio da aba de contato -->
					<p:tab title="Contato" id="contato" rendered="true">
						<p:separator />	
    				<h:panelGrid id="grid_contatoJ" columns="2">    					
						<h:panelGrid id="grid_cj" columns="2" cellpadding="5">
        					<p:outputLabel  value="Celular:" />
        					<p:inputMask id="cel2" mask="(999)99999-9999" value="#{clienteBean.cli.ct.celular}" converter="telefoneConverter" required="false" />  
							
        					<p:outputLabel  value="Fone fixo:" />
        					<p:inputMask  id="fone2" mask="(999)9999-9999" value="#{clienteBean.cli.ct.fone}" converter="telefoneConverter" />									        				 							
 						
        					<p:outputLabel for="emailj" value="e-mail:" />
        					<p:inputText id="emailj" required="false" value="#{clienteBean.cli.ct.email}" size="30"/>
        					
        					<p:outputLabel for="sitej" value="Site:" />
        					<p:inputText id="sitej" required="false" value="#{clienteBean.cli.ct.site}" size="30" />
        					
    					</h:panelGrid>
    					<h:panelGrid id="grid_c2j" columns="1" cellpadding="5">
    					
    						<p:outputLabel for="obsj" value="Observaçoes:" />
        					<p:inputTextarea  id="obsj" required="false" value="#{clienteBean.cli.ct.obs}" rows="8" cols="50"/>
        													        				
    						</h:panelGrid>
 						</h:panelGrid>	
 						<p:separator/>
					</p:tab>
					<!-- fim da aba de contato -->
					
					<!-- inicio da aba endereço -->
					<p:tab title="Endereço">
						<p:messages id="msg_cepj" showDetail="false" closable="true" autoUpdate="false"/> 
						<p:separator />	
    				<h:panelGrid id="grid_enderecoj" columns="2">    					
						<h:panelGrid id="grid_ej" columns="3" cellpadding="5">
        					<p:outputLabel for="cepj" value="CEP:" />
        					<p:inputMask id="cepj" mask="99999-999" value="#{clienteBean.cli.ed.cep}" size="30"/>
        					
        					<p:commandLink update=":cadastroJ" 
        						onmouseover="document.getElementById('cadastro:tab:lupa').src='/OficinaManager/resources/imagens/lupa_o.png?pfdrid_c=true';"
        						onmouseout="document.getElementById('cadastro:tab:lupa').src='/OficinaManager/resources/imagens/lupa.png?pfdrid_c=true';"
        						action="#{clienteBean.buscaCep}" 
        						title="Buscar">					
								<p:graphicImage id="lupaj"  url="/resources/imagens/lupa.png"
								/>
							</p:commandLink>
        					
        					<p:outputLabel  value="RUA:" for="ruaj" />
        					<p:inputText id="ruaj"  value="#{clienteBean.cli.ed.rua}" required="false" size="30" />  
							<p:message for="ruaj"/>
							
        					<p:outputLabel  value="Numero:" for="numj" />
        					<p:inputText  id="numj" value="#{clienteBean.cli.ed.numero}" size="30" />
        					<p:message for="numj"/>									        				 							 					 						
 						        					
        					<p:outputLabel for="bairroj" value="BAIRRO:" />
        					<p:inputText id="bairroj" required="false" value="#{clienteBean.cli.ed.bairro}" size="30" />
        					<p:message for="bairroj"/>
        					
        					<p:outputLabel for="cidadej" value="CIDADE:" />
        					<p:inputText id="cidadej" required="false" value="#{clienteBean.cli.ed.cidade}" size="30" />
        					<p:message for="cidadej"/>
        					
        					<p:outputLabel for="ufj" value="UF:" />        					
        					<p:selectOneMenu value="#{clienteBean.cli.ed.uf}" id="ufj">
        						<f:selectItem itemLabel="Acre" itemValue="AC" />
        						<f:selectItem itemLabel="Alagoas" itemValue="AL" />
        						<f:selectItem itemLabel="Amapá" itemValue="AP" />
        						<f:selectItem itemLabel="Amazonas" itemValue="AM" />
        						<f:selectItem itemLabel="Bahia" itemValue="BA" />
        						<f:selectItem itemLabel="Ceará" itemValue="CE" />
        						<f:selectItem itemLabel="Dist Federal" itemValue="DF" />
        						<f:selectItem itemLabel="Espirito Santo" itemValue="ES" />
        						<f:selectItem itemLabel="Goiás" itemValue="GO" />
        						<f:selectItem itemLabel="Maranhão" itemValue="MA" />
        						<f:selectItem itemLabel="Mato Grosso" itemValue="MT" />
        						<f:selectItem itemLabel="Mato Grosso do Sul" itemValue="MS" />
        						<f:selectItem itemLabel="Minas Gerais" itemValue="MG" />
        						<f:selectItem itemLabel="Pará" itemValue="PA" />
        						<f:selectItem itemLabel="Paraíba" itemValue="PB" />
        						<f:selectItem itemLabel="Paraná" itemValue="PR" />
        						<f:selectItem itemLabel="Pernambuco" itemValue="PE" />
        						<f:selectItem itemLabel="Piauí" itemValue="PI" />
        						<f:selectItem itemLabel="Rio de Janeiro" itemValue="RJ" />
        						<f:selectItem itemLabel="Rio Gr do norte" itemValue="RN" />
        						<f:selectItem itemLabel="Rio Gr do sul" itemValue="RS" />
        						<f:selectItem itemLabel="Rondônia" itemValue="RO" />
        						<f:selectItem itemLabel="Roraima" itemValue="RR" />
        						<f:selectItem itemLabel="Santa Catarina" itemValue="SC" />
        						<f:selectItem itemLabel="São Paulo" itemValue="SP" />
        						<f:selectItem itemLabel="Sergipe" itemValue="SE" />
        						<f:selectItem itemLabel="Tocantins" itemValue="TO" />
        					</p:selectOneMenu>
  			
    					</h:panelGrid>
    					<h:panelGrid id="grid_ede2j" columns="1" cellpadding="5">
    					
    						<p:outputLabel for="referj" value="Observaçoes:" />
        					<p:inputTextarea  id="referj" required="false" value="#{clienteBean.cli.ed.refer}" rows="8" cols="50"/>
        													        				
    						</h:panelGrid>
 						</h:panelGrid>	
 						<p:separator/>
					</p:tab>
					<!-- fim da aba endereço -->
					
					<!-- inicio da aba enviar -->
					<p:tab title="Enviar" id="enviarj" >
					<p:messages id="msg_enviarj" showDetail="false" closable="true" autoUpdate="false"/>        					    				
    					<p:separator />	
					<h:panelGrid columns="1" >
					
						<h:panelGrid cellpadding="4" cellspacing="6" columns="3">							
							<h:panelGrid columns="1"  >								
									<h:outputLabel value="Razao social:" />
									<h:inputText  label="Razao social:" value="#{clienteBean.cli2.pj.rs}" required="true" 
										requiredMessage="Obrigatório razão social" size="30" readonly="true"/>
																		
									<h:outputLabel value="Nome fantasia:" />
									<h:inputText id="nfsia" value="#{clienteBean.cli2.pj.nomeFantasia}" readonly="true" immediate="true" />
									
									<h:outputLabel value="CNPJ:" />									
									<h:inputText  label="CNPJ:" id="CNPJ2" value="#{clienteBean.cli2.pj.cnpj}" required="true" readonly="true" />	
									
									<h:outputLabel value="DATA DE ABERTURA:" />									
									<h:inputText  label="ABERTURA:" id="abertura2" value="#{clienteBean.cli2.pj.abertura}"  required="false" readonly="true" >
										<f:convertDateTime locale="pt,BR" dateStyle="long" pattern="dd/MM/yyyy" />
									</h:inputText>
									
									<h:outputLabel value="Inscrição estadual:" />									
									<h:inputText   id="ie2" value="#{clienteBean.cli2.pj.ie}" required="false" readonly="true" />																			
									
									<h:outputLabel value="Inscrição municipal:" />									
									<h:inputText   id="im2" value="#{clienteBean.cli2.pj.im}" required="false" readonly="true" />																			
									
								
								<h:outputLabel value="--------------------"/>
							</h:panelGrid>

							<h:panelGrid columns="1"  >								
									<h:outputLabel value="CELULAR:" />
									<h:inputText  label="CELULAR:" value="#{clienteBean.cli2.ct.celular}"  readonly="true"/>
																		
									<h:outputLabel value="FONE FIXO:" />
									<h:inputText label="FONE FIXO:" id="FONE_E" value="#{clienteBean.cli2.ct.fone}" readonly="true" immediate="true" />
									
									<h:outputLabel value="e-mail:" />
									<h:inputText label="e-mail:" id="ej" value="#{clienteBean.cli2.ct.fone}" readonly="true" immediate="true" />
									
									<h:outputLabel value="SITE:" />
									<h:inputText label="site22:" id="site22" value="#{clienteBean.cli2.ct.site}" readonly="true" immediate="true" />
									
									<h:outputLabel value="--------------------"/>
									<h:outputLabel value="--------------------"/>
									<h:outputLabel value="--------------------"/>
									<h:outputLabel value="--------------------"/>
									<h:outputLabel value="--------------------"/>
									
									
							</h:panelGrid>	
							
							<h:panelGrid columns="1"  >								
									<h:outputLabel value="RUA" />
									<h:inputText   value="#{clienteBean.cli2.ed.rua}"  readonly="true"/>
																		
									<h:outputLabel value="NÚMERO:" />
									<h:inputText  value="#{clienteBean.cli2.ed.numero}" readonly="true" immediate="true" />
									
									<h:outputLabel value="BAIRRO:" />
									<h:inputText label="BAIRRO"  value="#{clienteBean.cli2.ed.bairro}" readonly="true" immediate="true" />
									
									<h:outputLabel value="CEP:" />
									<h:inputText   value="#{clienteBean.cli2.ed.cep}" readonly="true" immediate="true" />
									
									<h:outputLabel value="CIDADE:" />
									<h:inputText   value="#{clienteBean.cli2.ed.cidade}" readonly="true" immediate="true" />
									
									<h:outputLabel value="ESTADO:" />
									<h:inputText  value="#{clienteBean.cli2.ed.uf}" readonly="true" immediate="true" />
									
									<p:commandLink process="@form" update="msg_enviarj" action="#{clienteBean.salvarPJ}" title="Enviar">											
										<p:graphicImage library="imagens" name="enviar.png" />		
									</p:commandLink>
									
									
							</h:panelGrid>	
						</h:panelGrid>	
					</h:panelGrid>
					<p:separator/> 
						
					
					</p:tab>
					<!-- fim da aba enviar -->
					
				</p:tabView>
				<h:panelGrid columns="2" >								
				
				<p:commandLink process="@form" 
				onmouseover="document.getElementById('cadastro:sair').src='/OficinaManager/javax.faces.resource/sair_o.png.jsf?ln=imagens';"
				onmouseout="document.getElementById('cadastro:sair').src='/OficinaManager/javax.faces.resource/sair.png.jsf?ln=imagens';"
				update=":listagem " action="#{clienteBean.onTabClose}"  oncomplete="dlg3.hide()" title="Fechar">
										
					<p:graphicImage library="imagens" id="sair" value="Sair" name="sair.png" />
				</p:commandLink>
				
				</h:panelGrid>
			</h:form>						

		</div>		
	</p:dialog>
</ui:composition>


</html>